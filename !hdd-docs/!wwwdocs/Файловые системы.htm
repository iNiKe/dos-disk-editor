<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0030)http://www.remont-pc.ru/fs.htm -->
<HTML><HEAD><TITLE>Файловые системы</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1251">
<META content="MSHTML 6.00.2800.1400" name=GENERATOR>
<META content=FrontPage.Editor.Document name=ProgId><!--mstheme--><LINK 
href="Файловые системы_files/clea1111-1251.css" type=text/css rel=stylesheet>
<META content="clearday 1111, default" name="Microsoft Theme">
<META content="tlb, default" name="Microsoft Border"></HEAD>
<BODY><!--msnavigation-->
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD>
      <P align=center><FONT color=#0033cc><A 
      href="http://www.remont-pc.ru/price.htm">Новые комплексные услуги<SPAN 
      lang=en-us>. </SPAN>Скидки для постоянных клиентов от 20%</A></FONT></P>
      <P align=center><IMG height=100 src="Файловые системы_files/remont-pc.gif" 
      width=550 border=0></P>
      <P align=center><FONT color=#008080 size=2>Ремонт компьютеров, 
      восстановление данных на профессиональном уровне, программное обеспечение 
      по самостоятельному восстановлению данных.</FONT></P>
      <P align=center><A href="http://www.remont-pc.ru/index.htm"><IMG height=37 
      alt=Домой src="Файловые системы_files/home_cmp_Ice000_hbtn.gif" width=154 
      align=middle border=0></A> <A 
      href="http://www.remont-pc.ru/attention.htm"><IMG height=37 alt=ВНИМАНИЕ 
      src="Файловые системы_files/attention.htm_cmp_Ice000_hbtn.gif" width=154 
      align=middle border=0></A> <A href="http://www.remont-pc.ru/emrd.htm"><IMG 
      height=37 alt="Спасат. дискеты" 
      src="Файловые системы_files/emrd.htm_cmp_Ice000_hbtn.gif" width=154 
      align=middle border=0></A> <A href="http://www.remont-pc.ru/ercd.htm"><IMG 
      height=37 alt="Спасательный CD" 
      src="Файловые системы_files/ercd.htm_cmp_Ice000_hbtn.gif" width=154 
      align=middle border=0></A> <A 
      href="http://www.remont-pc.ru/users.htm"><IMG height=37 alt=Пользователи 
      src="Файловые системы_files/users.htm_cmp_Ice000_hbtn.gif" width=154 
      align=middle border=0></A> <A 
      href="http://www.remont-pc.ru/price.htm"><IMG height=37 
      alt="Услуги мастера" 
      src="Файловые системы_files/price.htm_cmp_Ice000_hbtn.gif" width=154 
      align=middle border=0></A> <A 
      href="http://www.remont-pc.ru/blue_screen_xp.htm"><IMG height=37 
      alt="Синий экран XP" 
      src="Файловые системы_files/blue_screen_xp.htm_cmp_Ice000_hbtn.gif" 
      width=154 align=middle border=0></A> <IMG height=37 alt="Файловые системы" 
      src="Файловые системы_files/fs.htm_cmp_Ice000_hbtn_p.gif" width=154 
      align=middle border=0> <A href="http://www.remont-pc.ru/about.htm"><IMG 
      height=37 alt=Связь 
      src="Файловые системы_files/about.htm_cmp_Ice000_hbtn.gif" width=154 
      align=middle border=0></A></P>
      <HR>
    </TD></TR><!--msnavigation--></TBODY></TABLE><!--msnavigation-->
<TABLE dir=ltr cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD vAlign=top width="1%">
      <P align=center><FONT color=#cc3300 size=2>Дата последнего обновления: 01 
      июня 2004 г.</FONT></P>
      <P align=center><IMG height=60 alt=GOOD! 
      src="Файловые системы_files/good.gif" width=80 border=0></P>
      <P align=center><IMG height=60 alt="USERS CHOICE!" 
      src="Файловые системы_files/user.gif" width=80 border=0></P>
      <P align=center><A 
      href="https://certsrv.webmoney.ru/certview.asp?wmid=162007833526" 
      target=_blank><IMG 
      title="Здесь находится аттестат нашего WM идентификатора 162007833526" 
      height=31 src="Файловые системы_files/attestated1.gif" width=88 
      border=0><BR><FONT size=1>Проверить аттестат</FONT></A></P>
      <P align=center><IMG height=31 src="Файловые системы_files/wm8831.gif" 
      width=88 border=1></P>
      <P align=center><IMG height=31 src="Файловые системы_files/left.h1.gif" 
      width=88 border=0></P>
      <P align=center><IMG height=31 src="Файловые системы_files/yd88x31.gif" 
      width=88 border=1></P>
      <P align=center></P>
      <P>&nbsp;</P></TD>
    <TD vAlign=top width=24></TD><!--msnavigation-->
    <TD vAlign=top>
      <TABLE id=table18 height=100 width="100%" border=1>
        <TBODY>
        <TR>
          <TD align=middle width="100%" colSpan=2 height=49>
            <P align=center><FONT color=#c0c0c0><SPAN lang=ru>Общее описание 
            файловых систем</SPAN></FONT></P></TD></TR>
        <TR>
          <TD align=middle width="49%" height=39><A 
            href="http://www.remont-pc.ru/fat32.htm"><SPAN lang=ru>Подробное 
            описание файловой системы </SPAN>FAT32 (<SPAN lang=ru>используется в 
            ОС </SPAN>Windows 95, 98, Me)</A></TD>
          <TD align=middle width="49%" height=39><A 
            href="http://www.remont-pc.ru/ntfs.htm"><SPAN lang=ru>Подробное 
            описание файловой системы </SPAN>NTFS (<SPAN lang=ru>используется в 
            ОС </SPAN>Windows 2000, XP)</A></TD></TR></TBODY></TABLE>
      <P align=center><!--webbot bot="Navigation" S-Type="banner" S-Orientation="horizontal" S-Rendering="graphics" startspan --><IMG 
      height=60 alt="Файловые системы" 
      src="Файловые системы_files/fs.htm_cmp_clearday110_bnr.gif" width=600 
      border=0><!--webbot bot="Navigation" i-checksum="58058" endspan --></P>
      <BLOCKQUOTE>
        <P><FONT face=Arial><SPAN lang=ru>Ниже я привожу </SPAN>о<SPAN 
        lang=ru>бъяснения о том, что же такое файловая система, как она 
        работает, из чего состоит</SPAN>.<SPAN lang=ru> А также привожу краткое 
        описание подавляющего большинства существующих ныне файловых 
        систем.</SPAN></FONT></P>
        <H5 align=center><B><FONT face="Arial, Helvetica, sans-serif" size=2><A 
        name=Введение>Введение</A></FONT></B></H5>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Файловая система (ФС) является важной частью любой операционной 
        системы, которая отвечает за организацию хранения и доступа к информации 
        на каких-либо носителях. Рассмотрим в качестве примера файловые системы 
        для наиболее распространенных в наше время носителей информации – 
        магнитных дисков. Как известно, информация на жестком диске хранится в 
        секторах (обычно 512 байт) и само устройство может выполнять лишь 
        команды считать/записать информацию в определенный сектор на диске. В 
        отличие от этого файловая система позволяет пользователю оперировать с 
        более удобным для него понятием - файл. Файловая система берет на себя 
        организацию взаимодействия программ с файлами, расположенными на дисках. 
        Для идентификации файлов используются имена. Современные файловые 
        системы предоставляют пользователям возможность давать файлам достаточно 
        длинные мнемонические названия.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>Под 
        каталогом в ФС понимается, с одной стороны, группа файлов, объединенных 
        пользователем исходя из некоторых соображений, с&nbsp; другой стороны 
        каталог - это файл, содержащий системную информацию о группе 
        составляющих его файлов. Файловые системы обычно имеют иерархическую 
        структуру, в которой уровни создаются за счет каталогов, содержащих 
        информацию о файлах и каталогах более низкого уровня.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Рассмотрим более подробно структуру жесткого диска. Базовой 
        единицей жесткого диска является <B>раздел, </B>создаваемый во время 
        разметки жесткого диска. Каждый раздел содержит один том, обслуживаемый 
        какой-либо файловой системой и имеющий таблицу оглавления файлов - 
        корневой каталог. Некоторые операционные системы поддерживают создание 
        томов, охватывающих несколько разделов. Жесткий диск может содержать до 
        четырех основных разделов. Это ограничение связано с характером 
        организации данных на жестких дисках IBM-совместимых компьютеров. Многие 
        операционные системы позволяют создавать, так называемый, <B>расширенный 
        </B>(extended) раздел, который по аналогии с разделами может разбиваться 
        на несколько логических дисков.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>В 
        первом физическом секторе жесткого диска располагается головная запись 
        загрузки и таблица разделов (табл.&nbsp;1). <STRONG>Головная запись 
        загрузки </STRONG>(<STRONG>master boot record, MBR</STRONG>) - первая 
        часть данных на жестком диске. Она зарезервирована для программы 
        начальной загрузки BIOS (<EM>ROM Bootstrap routin</EM>e), которая при 
        загрузке с жесткого диска считывает и загружает в память первый 
        физический сектор на активном разделе диска, называемый <A 
        name="Boot Sector"><STRONG>загрузочным сектором (Boot 
        Sector)</STRONG></A>. Каждая запись в таблице разделов (partition table) 
        содержит начальную позицию и размер раздела на жестком диске, а также 
        информацию о том, первый сектор какого раздела содержит загрузочный 
        сектор.</FONT></P>
        <DIV align=center>
        <CENTER>
        <TABLE id=table10 cellSpacing=0 cellPadding=0 width=307 border=1>
          <TBODY>
          <TR bgColor=#ffcc99>
            <TD vAlign=top width=97>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2><B>Размер (байт)</B> </FONT></P></TD>
            <TD vAlign=top width=174>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2><B>Описание</B> </FONT></P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width=97>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>446</FONT> </P></TD>
            <TD vAlign=top width=174>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Загрузочная запись (MBR)</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width=97>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>16</FONT> </P></TD>
            <TD vAlign=top width=174>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Запись 1 раздела</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width=97>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>16</FONT> </P></TD>
            <TD vAlign=top width=174>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Запись 2 раздела</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width=97>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>16</FONT> </P></TD>
            <TD vAlign=top width=174>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Запись 3 раздела</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width=97>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>16</FONT> </P></TD>
            <TD vAlign=top width=174>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Запись 4 раздела</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width=97>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>2</FONT> </P></TD>
            <TD vAlign=top width=174>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Сигнатура 055AAh</FONT> 
        </P></TD></TR></TBODY></TABLE></CENTER></DIV>
        <P align=center><FONT face="Arial, Helvetica, sans-serif" 
        size=2><B><SMALL>Табл. 1. Таблица деления диска</SMALL></B></FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>В 
        широком смысле понятие "файловая система" включает:</FONT></P>
        <UL>
          <LI><FONT face="Arial, Helvetica, sans-serif" size=2>совокупность всех 
          файлов на диске,</FONT> 
          <LI><FONT face="Arial, Helvetica, sans-serif" size=2>наборы служебных 
          структур данных, используемых для управления файлами, такие как, 
          например, каталоги файлов, дескрипторы файлов, таблицы распределения 
          свободного и занятого пространства на диске,</FONT> 
          <LI><FONT face="Arial, Helvetica, sans-serif" size=2>комплекс 
          системных программных средств, реализующих управление файлами, в 
          частности операции по созданию, уничтожению, чтению, записи, 
          именованию файлов, установке атрибутов и уровней доступа, поиску и 
          т.д.</FONT> </LI></UL>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Различие между файловыми системами заключается, в основном, в 
        способах распределения пространства между файлами на диске и организации 
        на диске служебных областей.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Современные операционные системы стремятся обеспечить 
        пользователя возможностью работать одновременно с несколькими файловыми 
        системами. В этом случае ФС рассматривается как часть подсистемы 
        ввода-вывода. В большинстве операционных систем (Windows 95, NT, OS/2) 
        реализуется механизм переключения файловых систем (File System Switch, 
        FSS), позволяющий поддерживать различные типы ФС. В соответствии с этим 
        подходом информация о файловых системах и файлах разбивается на две 
        части – зависимую от ФС и не зависимую. FSS обеспечивает интерфейс между 
        ядром и файловой системой, транслируя запросы ядра в операции, зависящие 
        от типа файловой системы. При этом ядро имеет представление только о 
        независимой части ФС.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Файловая система представляет многоуровневую структуру, на 
        верхнем уровне которой располагается так называемый переключатель 
        файловых систем (в Windows, такой переключатель называется 
        устанавливаемым диспетчером файловой системы - installable filesystem 
        manager, IFS). Он обеспечивает интерфейс между приложением и конкретной 
        файловой системой, к которой обращается приложение. Переключатель 
        файловых систем преобразует запросы к файлам в формат, воспринимаемый 
        следующим уровнем - уровнем драйверов файловых систем. Для выполнения 
        своих функций драйверы файловых систем обращаются к драйверам конкретных 
        устройств хранения информации.</FONT></P>
        <P align=center>&nbsp;</P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Клиент-серверные приложения предъявляют повышенные требования к 
        производительности файловых систем. Современные файловые системы должны 
        обеспечивать эффективный доступ к файлам, поддержку носителей данных 
        достаточно большого объема, защиту от несанкционированного доступа к 
        данным и сохранение целостности данных. Под целостностью данных 
        подразумевается способность ФС обеспечивать отсутствие ошибок и 
        нарушений согласованности в данных, а также восстанавливать поврежденные 
        данные.</FONT></P>
        <H5 align=center><FONT face="Arial, Helvetica, sans-serif" size=2><B><A 
        name=FAT>FAT</A></B></FONT></H5>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Файловая система FAT (File Allocation Table) была разработана 
        Биллом Гейтсом и Марком МакДональдом в 1977 году и первоначально 
        использовалась в операционной системе 86-DOS. Чтобы добиться 
        переносимости программ из операционной системы CP/M в 86-DOS, в ней были 
        сохранены ранее принятые ограничения на имена файлов. В дальнейшем 
        86-DOS была приобретена Microsoft и стала основой для ОС 
        MS-DOS&nbsp;1.0, выпущенной в августе 1981 года. FAT была предназначена 
        для работы с гибкими дисками размером менее 1 Мбайта, и вначале не 
        предусматривала поддержки жестких дисков. В настоящее время FAT 
        поддерживает файлы и разделы размеров до 2 Гбайт.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>В FAT 
        применяются следующие соглашения по именам файлов: </FONT></P>
        <UL>
          <UL>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>имя должно 
            начинаться с буквы или цифры и может содержать любой символ ASCII, 
            за исключением пробела и символов "/\[]:;|=,^*?</FONT> 
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>Длина имени не 
            превышает 8 символов, за ним следует точка и необязательное 
            расширение длиной до 3 символов.</FONT> </LI></UL></UL>
        <UL>
          <UL>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>регистр 
            символов в именах файлов не различается и не сохраняется.</FONT> 
            </LI></UL></UL>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Структура раздела FAT изображена на рисунке 2. В блоке параметров 
        BIOS содержится необходимая BIOS информация о физических характеристиках 
        жесткого диска. Файловая система FAT не может контролировать отдельно 
        каждый сектор, поэтому она объединяет смежные сектора в 
        <STRONG>кластеры</STRONG> (<STRONG>clusters</STRONG>). Таким образом, 
        уменьшается общее количество единиц хранения, за которыми должна следить 
        файловая система. Размер кластера в FAT является степенью двойки и 
        определяется размером тома при форматировании диска (табл. 2). Кластер 
        представляет собой минимальное пространство, которое может занимать 
        файл. Это приводит к тому, что часть пространства диска расходуется 
        впустую. В состав операционной системы входят различные утилиты 
        (DoubleSpace, DriveSpace), предназначенные для уплотнения данных на 
        диске.</FONT></P>
        <DIV align=center>
        <CENTER>
        <TABLE id=table11 cellSpacing=0 cellPadding=0 width=515 align=center 
        border=1>
          <TBODY>
          <TR>
            <TD vAlign=center width="33%" bgColor=#ffffff>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Загрузочный сектор</FONT></P>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Блок параметров BIOS (BPB)</FONT> </P></TD>
            <TD vAlign=center width="10%" bgColor=#ffcc99>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>FAT</FONT> </P></TD>
            <TD vAlign=center width="11%" bgColor=#ffcc99>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>FAT<BR>(копия)</FONT> </P></TD>
            <TD vAlign=center width="24%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Корневой каталог</FONT> </P></TD>
            <TD vAlign=center width="22%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Область файлов</FONT> 
        </P></TD></TR></TBODY></TABLE></CENTER></DIV>
        <P align=center><FONT face="Arial, Helvetica, sans-serif" 
        size=2><B><SMALL>Рис. 2</SMALL></B></FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>Свое 
        название FAT получила от одноименной таблицы размещения файлов. В 
        таблице размещения файлов хранится информация о кластерах логического 
        диска. Каждому кластеру в FAT соответствует отдельная запись, которая 
        показывает, свободен ли он, занят ли данными файла, или помечен как 
        сбойный (испорченный). Если кластер занят под файл, то в соответствующей 
        записи в таблице размещения файлов указывается адрес кластера, 
        содержащего следующую часть файла. Из-за этого FAT называют файловой 
        системой со связанными списками. Оригинальная версия FAT, разработанная 
        для DOS 1.00, использовала 12-битную таблицу размещения файлов и 
        поддерживала разделы объемом до 16 Мб (в DOS можно создать не более двух 
        разделов FAT). Для поддержки жестких дисков размером более 32 Мб 
        разрядность FAT была увеличена до 16 бит, а размер кластера - до 64 
        секторов (32 Кб). Так как каждому кластеру может быть присвоен 
        уникальный 16-разрядный номер, то FAT поддерживает максимально 
        2<SUP>16</SUP>, или 65536 кластеров на одном томе. </FONT></P>
        <DIV align=center>
        <CENTER>
        <TABLE id=table12 cellSpacing=0 cellPadding=0 width=435 align=center 
        border=1>
          <TBODY>
          <TR bgColor=#ffcc99>
            <TD vAlign=top width="35%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2><B>Размер раздела</B> </FONT></P></TD>
            <TD vAlign=top width="26%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2><B>Размер кластера</B> </FONT></P></TD>
            <TD vAlign=top width="39%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2><B>Тип FAT</B> </FONT></P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="35%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>&lt; 16 Мб</FONT> </P></TD>
            <TD vAlign=top width="26%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" size=2>4 
              Кб</FONT> </P></TD>
            <TD vAlign=top width="39%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>FAT12</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="35%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>16 Мб – 127 Мб</FONT> </P></TD>
            <TD vAlign=top width="26%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" size=2>2 
              Кб</FONT> </P></TD>
            <TD vAlign=top width="39%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>FAT16</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="35%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>128 Мб – 255 Мб</FONT> </P></TD>
            <TD vAlign=top width="26%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" size=2>4 
              Кб</FONT> </P></TD>
            <TD vAlign=top width="39%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>FAT16</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="35%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>256 Мб – 511 Мб</FONT> </P></TD>
            <TD vAlign=top width="26%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" size=2>8 
              Кб</FONT> </P></TD>
            <TD vAlign=top width="39%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>FAT16</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="35%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>512 Мб – 1023 Мб</FONT> </P></TD>
            <TD vAlign=top width="26%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>16 Кб</FONT> </P></TD>
            <TD vAlign=top width="39%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>FAT16</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="35%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" size=2>1 
              Гб – 2 Гб</FONT> </P></TD>
            <TD vAlign=top width="26%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>32 Кб</FONT> </P></TD>
            <TD vAlign=top width="39%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>FAT16</FONT> </P></TD></TR></TBODY></TABLE></CENTER></DIV>
        <P align=center><FONT face="Arial, Helvetica, sans-serif" 
        size=2><B><SMALL>Табл. 2</SMALL></B></FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Поскольку загрузочная запись слишком мала для хранения алгоритма 
        поиска системных файлов на диске, то системные файлы должны находиться в 
        определенном месте, чтобы загрузочная запись могла их найти. 
        Фиксированное положение системных файлов в начале области данных 
        накладывает жесткое ограничение на размеры корневого каталога и таблицы 
        размещения файлов. Вследствие этого общее число файлов и подкаталогов в 
        корневом каталоге на диске FAT ограничено 512. </FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Каждому файлу и подкаталогу в FAT соответствует 32-байтный 
        элемент каталога (directory entry), содержащий имя файла, его атрибуты 
        (архивный, скрытый, системный и “только для чтения”), дату и время 
        создания (или внесения в него последних изменений), а также прочую 
        информацию (табл. 3).</FONT></P>
        <DIV align=center>
        <CENTER>
        <TABLE id=table13 cellSpacing=0 cellPadding=0 width=330 align=center 
        border=1>
          <TBODY>
          <TR bgColor=#ffcc99>
            <TD vAlign=top width=185>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2><B>Содержание</B> </FONT></P></TD>
            <TD vAlign=top width=109>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2><B>Размер (байт)</B> </FONT></P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width=185>
              <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Имя файла </FONT></P></TD>
            <TD vAlign=top width=109>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>8</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width=185>
              <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Расширение</FONT> </P></TD>
            <TD vAlign=top width=109>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>3</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width=185>
              <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Байт атрибутов</FONT> </P></TD>
            <TD vAlign=top width=109>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>1</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width=185>
              <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Зарезервировано</FONT> </P></TD>
            <TD vAlign=top width=109>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>10</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width=185 height=4>
              <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Время</FONT> </P></TD>
            <TD vAlign=top width=109 height=4>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>2</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width=185>
              <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Дата</FONT> </P></TD>
            <TD vAlign=top width=109>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>2</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width=185>
              <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Номер начального кластера с данными</FONT> </P></TD>
            <TD vAlign=top width=109>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>2</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width=185>
              <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Размер файла</FONT> </P></TD>
            <TD vAlign=top width=109>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>4</FONT> </P></TD></TR></TBODY></TABLE></CENTER></DIV>
        <P align=center><FONT face="Arial, Helvetica, sans-serif" 
        size=2><B><SMALL>Табл. 3. Элемент каталога</SMALL></B></FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Файловая система FAT всегда заполняет свободное место на диске 
        последовательно от начала к концу. При создании нового файла или 
        увеличении уже существующего она ищет самый первый свободный кластер в 
        таблице размещения файлов. Если в процессе работы одни файлы были 
        удалены, а другие изменились в размере, то появляющиеся в результате 
        пустые кластеры будут рассеяны по диску. Если кластеры, содержащие 
        данные файла, расположены не подряд, то файл оказывается 
        <B>фрагментированным</B>. Сильно фрагментированные файлы значительно 
        снижают эффективность работы, так как головки чтения/записи при поиске 
        очередной записи файла должны будут перемещаться от одной области диска 
        к другой. В состав операционных систем, поддерживающих FAT, обычно 
        входят специальные утилиты дефрагментации диска, предназначенные 
        повысить производительность файловых операций.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>Еще 
        один недостаток FAT заключается в том, что ее производительность сильно 
        зависит от количества файлов, хранящихся в одном каталоге. При большом 
        количестве файлов (около тысячи), выполнение операции считывания списка 
        файлов в каталоге может занять несколько минут. Это обусловлено тем, что 
        в FAT каталог имеет линейную неупорядоченную структуру, и имена файлов в 
        каталогах идут в порядке их создания. В результате, чем больше в 
        каталоге записей, тем медленнее работают программы, так как при поиске 
        файла требуется просмотреть последовательно все записи в 
        каталоге.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Поскольку FAT изначально проектировалась для однопользовательской 
        операционной системы DOS, то она не предусматривает хранения такой 
        информации, как сведения о владельце или полномочия доступа к 
        файлу/каталогу.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>FAT 
        является наиболее распространенной файловой системой и ее в той или иной 
        степени поддерживают большинство современных ОС. Благодаря своей 
        универсальности FAT может применяться на томах, с которыми работают 
        разные операционные системы.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>Хотя 
        нет никаких препятствий использовать при форматировании дискет любую 
        другую файловую систему, большинство ОС для совместимости используют 
        FAT. Отчасти это можно объяснить тем, что простая структура FAT требует 
        меньше места для хранения служебных данных, чем остальные системы. 
        Преимущества других файловых систем становятся заметны только при 
        использовании их на носителях объемом более 100 Мб.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>Надо 
        отметить, что FAT - простая файловая система, не предотвращающая порчи 
        файлов из-за ненормального завершения работы компьютера. В состав 
        операционных систем, поддерживающих FAT, входят специальные утилиты 
        проверяющие структуру и корректирующие несоответствия в файловой 
        системе.</FONT></P>
        <H5 align=center><FONT face="Arial, Helvetica, sans-serif" size=2><B><A 
        name=HPFS>HPFS</A></B></FONT></H5>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Высокопроизводительная файловая система HPFS (High Performance 
        File System) была представлена фирмой IBM в 1989 году вместе с 
        операционной системой OS/2 1.20. Файловая система HPFS также 
        поддерживалась ОС Windows NT до версии 3.51 включительно. По 
        производительности эта ФС существенно опережает FAT. HPFS позволяет 
        использовать жесткие диски объемом до 2 Терабайт (первоначально до 4 
        Гбайт). Кроме того, она поддерживает разделы диска размером до 512 Гб и 
        позволяет использовать имена файлов длиной до 255 символов (на каждый 
        символ при этом отводится 2 байта). В HPFS по сравнению с FAT уменьшено 
        время доступа к файлам в больших каталогах. </FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>HPFS 
        распределяет пространство на диске не кластерами как в FAT, а 
        физическими секторами по 512 байт, что не позволяет ее использовать на 
        жестких дисках, имеющих другой размер сектора. Эти секторы принято 
        называть блоками. Чтобы уменьшить фрагментацию диска, при распределении 
        пространства под файл HPFS стремится, по возможности, размещать файлы в 
        последовательных смежных секторах. Фрагмент файла, располагающийся в 
        смежных секторах, называется <B>экстентом</B>.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>Для 
        нумерации единиц распределения пространства диска HPFS использует 32 
        разряда, что дает 2<SUP>32</SUP>, или более 4 миллиардов номеров. Однако 
        HPFS использует числа со знаком, что сокращает число возможных номеров 
        блоков до 2 миллиардов. Помимо стандартных атрибутов файла, HPFS 
        поддерживает <B>расширенные атрибуты </B>файла (Extended Attributes, 
        EA), которые могут содержать до 64 Кб различных дополнительных сведений 
        о файле.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>Диск 
        HPFS имеет следующие три базовые структуры (рис. 3): загрузочный блок 
        (<STRONG>BootBlock</STRONG>), дополнительный блок 
        (<STRONG>SuperBlock</STRONG>) и резервный блок 
        (<STRONG>SpareBlock</STRONG>).</FONT></P>
        <DIV align=center>
        <CENTER>
        <TABLE id=table14 cellSpacing=0 cellPadding=0 width="100%" border=1>
          <TBODY>
          <TR>
            <TD vAlign=center width="9%" bgColor=#ffffff height=103>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Загрузочный блок</FONT> </P></TD>
            <TD vAlign=center width="9%" bgColor=#ffffff height=103>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Дополнительный блок</FONT> </P></TD>
            <TD vAlign=center width="9%" bgColor=#ffffff height=103>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Резервный блок</FONT> </P></TD>
            <TD vAlign=center width="9%" bgColor=#ffcc99 height=103>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Группа 1</FONT> </P></TD>
            <TD vAlign=center width="9%" bgColor=#ffcc99 height=103>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Битовая карта группы 1</FONT> </P></TD>
            <TD vAlign=center width="9%" height=103>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Битовая карта группы 2</FONT> </P></TD>
            <TD vAlign=center width="9%" height=103>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Группа 2</FONT> </P></TD>
            <TD vAlign=center width="9%" bgColor=#ffcc99 height=103>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Группа 3</FONT> </P></TD>
            <TD vAlign=center width="9%" bgColor=#ffcc99 height=103>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Битовая карта группы 3</FONT> </P></TD>
            <TD vAlign=center width="9%" height=103>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Битовая карта группы 4</FONT> </P></TD>
            <TD vAlign=center width="9%" height=103>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Группа 4</FONT> </P></TD></TR></TBODY></TABLE></CENTER></DIV>
        <P align=center><FONT face="Arial, Helvetica, sans-serif" 
        size=2><B><SMALL>Рис. 3. Дисковый раздел HPFS</SMALL></B></FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2><STRONG><EM>Загрузочный блок</EM></STRONG> в HPFS аналогичен 
        загрузочному блоку в FAT. Он располагается в секторах с 0 по 15 и 
        занимает на диске 8 Кб. Системные файлы, также как и в FAT, 
        располагаются в корневом каталоге, но при этом физически могут 
        находиться в любом месте на диске.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>В 16 
        секторе размещается <EM><STRONG>дополнительный блок</STRONG></EM>, 
        содержащий указатель на <STRONG>список блоков битовых карт 
        </STRONG>(bitmap block list). В этом списке перечислены все блоки на 
        диске, в которых расположены битовые карты, используемые для обнаружения 
        свободных секторов. Также в дополнительном блоке хранится указатель на 
        список дефектных блоков (bad block list), указатель на группу каталогов 
        (directory band), указатель на файловый узел корневого каталога и дата 
        последней проверки диска. Файловый узел (fnode) – это структура диска 
        HPFS, которая содержит информацию о расположении файла и о его 
        расширенных атрибутах. </FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>В 
        следующем секторе находится <STRONG><EM>резервный блок</EM></STRONG>, 
        содержащий карту аварийного замещения (hotfix map), указатель на список 
        свободных запасных блоков (directory emergency free block list) и ряд 
        системных флагов. Резервный блок обеспечивает высокую отказоустойчивость 
        HPFS и позволяет восстанавливать поврежденные данные на 
диске.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Остальное пространство диска разделено на <B>группы </B>(band) 
        хранения данных. Каждая группа занимает 8 Мб и имеет свою собственную 
        битовую карту свободного пространства, которая похожа на таблицу 
        размещения файлов FAT. Каждому сектору группы соответствует один бит к 
        ее битовой карте, показывающий занят ли соответствующий сектор. Битовые 
        карты двух групп располагаются на диске рядом, также как располагаются и 
        сами группы. Это дает возможность непрерывно разместить на жестком диске 
        файл размером до 16 Мб.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>Одна 
        из групп данных размером 8 Мб, расположенная в середине жесткого диска и 
        называемая <B>группой каталогов, </B>хранит информацию о каталогах 
        диска. В ней наряду с остальными каталогами располагается и корневой 
        каталог. Расположение группы каталогов в центре диска значительно 
        сокращает время позиционирования головок чтения/записи.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>В 
        отличие от линейной структуры FAT, структура каталога в HPFS 
        представляет собой сбалансированное дерево (так называемое B-дерево) с 
        записями, расположенными в алфавитном порядке. Сбалансированное дерево 
        состоит из корневого (root block) и оконечных блоков (leaf block). Блоки 
        занимают 4 последовательных сектора и в среднем могут содержать 40 
        записей. Каждая запись корневого блока указывает на один из оконечных 
        блоков (если только в каталоге не меньше 40 файлов); в свою очередь, 
        каждая запись в оконечном блоке указывает на файловый узел файла или на 
        оконечный блок следующего уровня. Таким образом, двухуровневая структура 
        может содержать 40 оконечных блоков по 40 записей в каждом и описывать 
        до 1600 файлов. При поиске файловая система HPFS просматривает только 
        необходимые ветви дерева.</FONT></P>
        <P align=left><FONT face="Arial, Helvetica, sans-serif" size=2>Файловый 
        узел имеет размер 512 байт и всегда по возможности располагается 
        непосредственно перед первым блоком своего файла. Каждый файл и каталог 
        диска HPFS имеет свой файловый узел. Информация, хранящаяся в файловом 
        узле, включает в себя расширенные атрибуты файла, если они достаточно 
        малы, чтобы поместится в один сектор диска, и сокращенное имя файла в 
        формате 8.3. Если расширенные атрибуты не помещаются в файловый узел, то 
        в него записывается указатель на них. Положение файла на диске 
        описывается в файловом узле двумя 32-битными числами. Первое из чисел 
        представляет собой указатель на первый блок файла, а второе - длину 
        экстента. Если же файл фрагментирован, то его размещение описывается 
        дополнительными парами 32-битных чисел. В файловом узле можно хранить 
        информацию максимум о 8 экстентах файла. Если файл имеет больше число 
        экстентов, то в его файловый узел записывается указатель на блок 
        размещения (allocation block), который может содержать до 40 указателей 
        на экстенты или на другие блоки размещения. Таким образом, двухуровневая 
        структура блоков размещения может хранить информацию о 480 (12*40) 
        секторах, что теоретически, позволяет работать с файлами размером до 
        7.68 Гб (12*40*16 Мб). </FONT></P>
        <H4 align=center><FONT face="Arial, Helvetica, sans-serif" size=2><B><A 
        name=VFAT>VFAT</A></B></FONT></H4>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Файловая система VFAT (Virtual FAT), реализованная в Windows NT 
        3.5, Windows 95 (DOS&nbsp;7.0), - это файловая система <A 
        href="http://www.remont-pc.ru/fs.htm#FAT">FAT</A>, включающая поддержку 
        длинных имен файлов (Long File Name, LFN) в кодировке UNICODE (каждый 
        символ имени кодируется 2 байтами). VFAT использует ту же самую схему 
        распределения дискового пространства, что и файловая система FAT, 
        поэтому размер кластера определяется величиной раздела.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>В VFAT 
        ослаблены ограничения, устанавливаемые соглашениями по именам файлов 
        FAT:</FONT></P>
        <UL>
          <UL>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>имя может быть 
            длиной до 255 символов.</FONT> 
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>в имя можно 
            включать несколько пробелов и точек, однако, текст после последней 
            точки рассматривается как расширение.</FONT> </LI></UL></UL>
        <UL>
          <UL>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>регистр 
            символов в именах не различается, <B>но </B>сохраняется.</FONT> 
          </LI></UL></UL>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Основной задачей при разработке VFAT была необходимость 
        корректной работы старых программ, не поддерживающих длинные имена 
        файлов. Как правило, прикладные программы для доступа к файлам 
        используют функции ОС. Если у элемента каталога установить “нереальную” 
        комбинацию битов атрибутов: “только для чтения”, “скрытый”, “системный”, 
        “метка тома” – то любые файловые функции старых версий DOS и Windows не 
        заметят такого элемента каталога. В итоге для каждого файла и 
        подкаталога в VFAT хранится два имени: длинное и короткое в формате 8.3 
        для совместимости со старыми программами. Длинные имена (LFN) хранятся в 
        специальных записях каталога, байт атрибутов, у которых равен 0Fh. Для 
        любого файла или подкаталога непосредственно перед единственной записью 
        каталога с его именем в формате 8.3 находится группа из одной или 
        нескольких записей, представляющих длинное имя. Каждая такая запись 
        содержит часть длинного имени файла не более 13 символов, из всех таких 
        записей ОС составляет полное имя файла. Поскольку одно длинное имя файла 
        может занимать до 21 записи, а корневой каталог FAT ограничен 512 
        записями, желательно ограничить использование длинных имен в корневом 
        каталоге.</FONT></P>
        <DIV align=center>
        <CENTER>
        <TABLE id=table15 cellSpacing=0 cellPadding=0 width=369 align=center 
        border=1>
          <TBODY>
          <TR bgColor=#ffcc99>
            <TD vAlign=top width="72%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2><B>Содержание</B> </FONT></P></TD>
            <TD vAlign=top width="28%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2><B>Размер (байт)</B> </FONT></P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="72%">
              <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Порядок следования</FONT> </P></TD>
            <TD vAlign=top width="28%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>1</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="72%">
              <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Первые пять символов LFN</FONT> </P></TD>
            <TD vAlign=top width="28%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>10</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="72%">
              <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Байт атрибутов (0Fh)</FONT> </P></TD>
            <TD vAlign=top width="28%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>1</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="72%" height=4>
              <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Указатель типа (всегда 0)</FONT> </P></TD>
            <TD vAlign=top width="28%" height=4>
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>1</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="72%">
              <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Контрольная сумма части имени</FONT> </P></TD>
            <TD vAlign=top width="28%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>1</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="72%">
              <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Следующие шесть символов LFN</FONT> </P></TD>
            <TD vAlign=top width="28%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>12</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="72%">
              <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Номер начального кластера (всегда 0)</FONT> </P></TD>
            <TD vAlign=top width="28%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>2</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="72%">
              <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
              size=2>Следующие два символа LFN</FONT> </P></TD>
            <TD vAlign=top width="28%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>4</FONT> </P></TD></TR></TBODY></TABLE></CENTER></DIV>
        <P align=center><FONT face="Arial, Helvetica, sans-serif" 
        size=2><B><SMALL>Табл. 4. Элемент каталога для длинного 
        имени</SMALL></B></FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Короткое имя генерируется файловой системой автоматически в 
        формате 8.3. Для создания коротких имен (псевдонимов) файлов 
        используется следующий <A name=алгоритм>алгоритм</A>:</FONT></P>
        <OL>
          <LI><FONT face="Arial, Helvetica, sans-serif" size=2>Из длинного имени 
          удалить все символы не допустимые в именах FAT. Удалить точки в конце 
          и начале имени. После этого удалить все точки, находящиеся внутри 
          имени кроме последней.</FONT> 
          <LI><FONT face="Arial, Helvetica, sans-serif" size=2>Обрезать строку, 
          расположенную перед точкой, до 6 символов и добавить в ее конец "~1". 
          Обрезать строку за точкой до 3 символов.</FONT> 
          <LI><FONT face="Arial, Helvetica, sans-serif" size=2>Полученные буквы 
          преобразовать в прописные. Если сгенерированное имя совпадает с уже 
          существующим, то увеличить число в строке "~1". </FONT></LI></OL>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>Данный 
        алгоритм зависит от версии операционной системы и в будущих версиях 
        может меняться.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Редактирование файлов программами, не поддерживающими длинные 
        имена файлов, может приводить к потере длинных имен. Windows 
        обнаруживает подобные элементы каталога, так как их контрольная сумма не 
        соответствует больше тому, что записано в последующей записи каталога в 
        формате 8.3. Однако такие записи не удаляются системой автоматически, 
        они занимают дисковое пространство, до тех пор, пока вы не запустите 
        программу ScanDisk, входящую в состав операционной системы. Большинство 
        старых дисковых утилит воспримут записи, соответствующие длинным именам, 
        как ошибки логической структуры диска. Попытки использовать данные 
        утилиты, в лучшем случае приведет к потере длинных имен, а в худшем - к 
        потере информации на диске.</FONT></P>
        <H5 align=center><FONT face="Arial, Helvetica, sans-serif" size=2><B><A 
        name="FAT 32">FAT 32</A></B></FONT></H5>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>В 
        настоящее время появляются новые поколения жестких дисков, имеющие все 
        бoльшие объемы дискового пространства, в то время как возможности FAT 
        уже достигли своего предела (FAT может поддерживать разделы размером до 
        2 Гб).</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>FAT32 
        - усовершенствованная версия файловой системы VFAT, поддерживающая 
        жесткие диски объемом до 2 терабайт. Впервые файловая система FAT32 была 
        включена в состав ОС Windows &nbsp;95 OSR&nbsp;2. В FAT32 были расширены 
        атрибуты файлов, позволяющие теперь хранить время и дату создания, 
        модификации и последнего доступа к файлу или каталогу.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>Из-за 
        требования совместимости с ранее созданными программами структура FAT32 
        содержит минимальные изменения. Главные отличия от предыдущих версий FAT 
        состоят в следующем. Блок начальной загрузки на разделах с FAT32 был 
        увеличен до 2 секторов и включает в себя резервную копию загрузочного 
        сектора, что позволяет системе быть более устойчивой к возможным сбоям 
        на диске. Объем, занимаемый таблицей размещения файлов, увеличился, 
        поскольку теперь каждая запись в ней занимает 32 байта, и общее число 
        кластеров на разделе FAT32 больше, чем на разделах FAT. Соответственно, 
        выросло и количество зарезервированных секторов.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Необходимо отметить, что официально Microsoft не поддерживает 
        разделы FAT32 объемом менее 512 Мб. Однако в версии утилиты FDISK, 
        поставляемой вместе с OSR2, имеется недокументированный флаг /FPRMT, 
        позволяющий отформатировать под FAT32 разделы объемом менее 512 Мб. 
        Microsoft также не поддерживает FAT32-разделы с размером кластера 
        меньшим, чем 4&nbsp;Кб. Размеры кластера, предлагаемые по умолчанию при 
        форматировании FAT32 дисков, приведены в таблице 5. Параметр /Z утилиты 
        FORMAT позволяет самостоятельно установить размер кластера на разделе 
        FAT32: FORMAT &lt;диск&gt; /Z:n, где n – число секторов в 
        кластере.</FONT></P>
        <DIV align=center>
        <CENTER>
        <TABLE id=table16 cellSpacing=0 cellPadding=0 width=330 align=center 
        border=1>
          <TBODY>
          <TR bgColor=#ffcc99>
            <TD vAlign=top width="49%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2><B>Размер раздела</B></FONT> </P></TD>
            <TD vAlign=top width="51%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2><B>Размер кластера</B></FONT> </P></TD></TR>
          <TR>
            <TD vAlign=top width="49%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>&lt; 260 Мб</FONT> </P></TD>
            <TD vAlign=top width="51%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>512 байт</FONT> </P></TD></TR>
          <TR>
            <TD vAlign=top width="49%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>260 Мб – 8 Гб</FONT> </P></TD>
            <TD vAlign=top width="51%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" size=2>4 
              Кб</FONT> </P></TD></TR>
          <TR>
            <TD vAlign=top width="49%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" size=2>8 
              Гб – 16 Гб</FONT> </P></TD>
            <TD vAlign=top width="51%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" size=2>8 
              Кб</FONT> </P></TD></TR>
          <TR>
            <TD vAlign=top width="49%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>16 Гб – 32 Гб</FONT> </P></TD>
            <TD vAlign=top width="51%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>16 Кб</FONT> </P></TD></TR>
          <TR>
            <TD vAlign=top width="49%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>&gt; 32 Гб</FONT> </P></TD>
            <TD vAlign=top width="51%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>32 Кб</FONT> </P></TD></TR></TBODY></TABLE></CENTER></DIV>
        <P align=center><FONT face="Arial, Helvetica, sans-serif" 
        size=2><B><SMALL>Табл. 5</SMALL></B></FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Корневой каталог в FAT32 больше не располагается в определенном 
        месте, вместо этого в блоке BPB хранится указатель на начальный кластер 
        корневого каталога. В результате снимается ранее существовавшее 
        ограничение на число записей в корневом каталоге. </FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>Кроме 
        того, для учета свободных кластеров, в зарезервированной области на 
        разделе FAT32 имеется сектор, содержащий число свободных кластеров и 
        номер самого последнего использованного кластера. Это позволяет системе 
        при выделении следующего кластера не перечитывать заново всю таблицу 
        размещения файла.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>В 
        данный момент FAT32 поддерживается в следующих ОС: Windows 95 OSR2, 
        Windows 98 и Windows NT 5.0.</FONT></P>
        <H5 align=center><FONT face="Arial, Helvetica, sans-serif" size=2><B><A 
        name=NTFS>NTFS</A></B></FONT></H5>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>NTFS 
        (New Technology File System) - наиболее предпочтительная файловая 
        система при работе с ОС Windows&nbsp;NT, поскольку она была специально 
        разработана для данной системы. В состав Windows NT входит утилита 
        convert, осуществляющая конвертирование томов с FAT и HPFS в тома NTFS. 
        В NTFS значительно расширены возможности по управлению доступом к 
        отдельным файлам и каталогам, введено большое число атрибутов, 
        реализована отказоустойчивость, средства динамического сжатия файлов, 
        поддержка требований стандарта POSIX. NTFS позволяет использовать имена 
        файлов длиной до 255 символов, при этом она использует тот же алгоритм 
        для генерации короткого имени, что и VFAT. NTFS обладает возможностью 
        самостоятельного восстановления в случае сбоя ОС или оборудования, так 
        что дисковый том остается доступным, а структура каталогов не 
        нарушается.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>Каждый 
        файл на томе NTFS представлен записью в специальном файле – главной 
        файловой таблице <STRONG>MFT</STRONG> (<STRONG>Master File 
        Table</STRONG>). NTFS резервирует первые 16 записей таблицы размером 
        около 1 Мб для специальной информации. Первая запись таблицы описывает 
        непосредственно саму главную файловую таблицу. За ней следует зеркальная 
        запись MFT. Если первая запись MFT разрушена, NTFS считывает вторую 
        запись, чтобы отыскать зеркальный файл MFT, первая запись которого 
        идентична первой записи MFT. Местоположение сегментов данных MFT и 
        зеркального файла MFT хранится в секторе начальной загрузки. Копия 
        сектора начальной загрузки находится в логическом центре диска. Третья 
        запись MFT содержит файл регистрации, применяемый для восстановления 
        файлов. Семнадцатая и последующие записи главной файловой таблицы 
        используются собственно файлами и каталогами на томе.</FONT></P>
        <P align=left><FONT face="Arial, Helvetica, sans-serif" size=2>В журнале 
        транзакций (log file) регистрируются все операции, влияющие на структуру 
        тома, включая создание файла и любые команды, изменяющие структуру 
        каталогов. Журнал транзакций применяется для восстановления тома NTFS 
        после сбоя системы. Запись для корневого каталога содержит список файлов 
        и каталогов, хранящихся в корневом каталоге.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>Схема 
        распределения пространства на томе хранится в файле битовой карты 
        (bitmap file). Атрибут данных этого файла содержит битовую карту, каждый 
        бит которой представляет один кластер тома и указывает, свободен ли 
        данный кластер или занят некоторым файлом.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>В 
        загрузочном файле (boot file) хранится код начального загрузчика Windows 
        NT.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>NTFS 
        также поддерживает файл плохих кластеров (bad cluster file) для 
        регистрации поврежденных участков на томе и файл тома (volume file), 
        содержащий имя тома, версию NTFS и бит, который устанавливается при 
        повреждении тома. Наконец, имеется файл, содержащий таблицу определения 
        атрибутов (attribute definition table), которая задает типы атрибутов, 
        поддерживаемые на томе, и указывает можно ли их индексировать, 
        восстанавливать операцией восстановления системы и т.д.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>NTFS 
        распределяет пространство кластерами и использует для их нумерации 64 
        разряда, что дает возможность иметь 2<SUP>64</SUP> кластеров, каждый 
        размером до 64 Кбайт. Как и в FAT размер кластера может меняться, но 
        необязательно возрастает пропорционально размеру диска. Размеры 
        кластеров, устанавливаемые по умолчанию при форматировании раздела, 
        приведены в табл. 6.</FONT></P>
        <DIV align=center>
        <CENTER>
        <TABLE id=table17 cellSpacing=0 cellPadding=0 width=325 align=center 
        border=1>
          <TBODY>
          <TR bgColor=#ffcc99>
            <TD vAlign=top width="63%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2><B>Размер раздела</B> </FONT></P></TD>
            <TD vAlign=top width="37%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2><B>Размер кластера</B> </FONT></P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="63%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>&lt; 512 Мб</FONT> </P></TD>
            <TD vAlign=top width="37%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>512 байт</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="63%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>513 Мб - 1024 Мб (1 Гб)</FONT> </P></TD>
            <TD vAlign=top width="37%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" size=2>1 
              Кб</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="63%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" size=2>1 
              Гб - 2 Гб</FONT> </P></TD>
            <TD vAlign=top width="37%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" size=2>2 
              Кб</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="63%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" size=2>2 
              Гб - 4 Гб</FONT> </P></TD>
            <TD vAlign=top width="37%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" size=2>4 
              Кб</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="63%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" size=2>4 
              Гб - 8 Гб</FONT> </P></TD>
            <TD vAlign=top width="37%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" size=2>8 
              Кб</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="63%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" size=2>8 
              Гб - 16 Гб</FONT> </P></TD>
            <TD vAlign=top width="37%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>16 Кб</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="63%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>16 Гб - 32 Гб</FONT> </P></TD>
            <TD vAlign=top width="37%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>32 Кб</FONT> </P></TD></TR>
          <TR bgColor=#ffffff>
            <TD vAlign=top width="63%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>&gt; 32 Гб</FONT> </P></TD>
            <TD vAlign=top width="37%">
              <P align=center><FONT face="Arial, Helvetica, sans-serif" 
              size=2>64 Кб</FONT> </P></TD></TR></TBODY></TABLE></CENTER></DIV>
        <P align=center><FONT face="Arial, Helvetica, sans-serif" 
        size=2><B><SMALL>Табл. 6</SMALL></B></FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>NTFS 
        позволяет хранить файлы размером до 16 эксабайт (2<SUP>64</SUP> байт) и 
        располагает встроенным средством уплотнения файлов в реальном времени. 
        Сжатие является одним из атрибутов файла или каталога и подобно любому 
        атрибуту может быть снято или установлено в любой момент (сжатие 
        возможно на разделах с размером кластера не более 4 Кб). При уплотнении 
        файла, в отличие от схем уплотнения используемых в FAT, применяется 
        пофайловое уплотнение, таким образом, порча небольшого участка диска не 
        приводит к потере информации в других файлах.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>Для 
        уменьшения фрагментации NTFS всегда пытается сохранить файлы в 
        непрерывных блоках. Эта система использует структуру каталогов в виде 
        B-дерева, аналогичную высокопроизводительной файловой системе <A 
        href="http://www.remont-pc.ru/fs.htm#HPFS">HPFS</A>, а не структуре со 
        связанным списком применяемой в FAT. Благодаря этому поиск файлов в 
        каталоге осуществляется быстрее, поскольку имена файлов хранятся 
        сортированными в лексикографическом порядке.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>NTFS 
        была разработана как восстанавливаемая файловая система, использующая 
        модель обработки транзакций. Каждая операция ввода-вывода, изменяющая 
        файл на томе NTFS, рассматривается системой как транзакция и может 
        выполняться как неделимый блок. При модификации файла пользователем 
        сервис файла регистрации фиксирует всю информацию необходимую для 
        повторения или отката транзакции. Если транзакция завершена успешно, 
        производится модификация файла. Если нет, NTFS производит откат 
        транзакции.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Несмотря на наличие защиты от несанкционированного доступа к 
        данным NTFS не обеспечивает необходимую &nbsp; конфиденциальность 
        хранимой информации. Для получения доступа к файлам достаточно загрузить 
        компьютер в DOS с дискеты и воспользоваться каким-нибудь сторонним 
        драйвером NTFS для этой системы. </FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Начиная с версии Windows NT 5.0 (новое название Windows 2000) 
        Microsoft поддерживает новую файловую систему <STRONG><A 
        href="http://www.remont-pc.ru/ntfs.htm" name="NTFS 5.0">NTFS 
        5.0</A></STRONG>. В новой версии NTFS были введены дополнительные 
        атрибуты файлов; наряду с правом доступа введено понятие запрета 
        доступа, позволяющее, например, при наследовании пользователем прав 
        группы на какой-нибудь файл, запретить ему возможность изменять его 
        содержимое. Новая система также позволяет:</FONT></P>
        <UL>
          <LI><FONT face="Arial, Helvetica, sans-serif" size=2>вводить 
          ограничения (квоты) на размер дискового пространства, предоставленного 
          пользователям;</FONT> 
          <LI><FONT face="Arial, Helvetica, sans-serif" size=2>проецировать 
          любой каталог (как на локальном, так и на удаленном компьютере) в 
          подкаталог на локальном диске.</FONT> </LI></UL>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Интересной возможностью новой версии Windows NT является 
        динамическое шифрование файлов и каталогов, повышающее надежность 
        хранения информации. В состав Windows NT 5.0 входит файловая система с 
        шифрованием (<EM>Encrypting File System, EFS</EM>), использующая 
        алгоритмы шифрования с общим ключом. Если для файла установлен атрибут 
        шифрования, то при обращении пользовательской программы к файлу для 
        записи или чтения происходит прозрачное для программы кодирование и 
        декодирование файла.</FONT></P>
        <H5 align=center><FONT face="Arial, Helvetica, sans-serif" size=2><B>UFS 
        (Unix File System)</B></FONT></H5>
        <P><FONT face="Arial, Helvetica, sans-serif" size=2>Так же, как Unix 
        представляет не одну систему, а ряд совместимых, так же UFS - не одна 
        система, а целый ряд. Информации о поддержке разными Unix'ами чужих UFS 
        у меня пока нет; информацию по поводу поддержки чужих файловых систем 
        для каждого конкретного Unix'а скорее всего можно найти в документации к 
        программе '<TT>mount</TT>'. </FONT></P>
        <P><FONT face="Arial, Helvetica, sans-serif" size=2>Основным отличием 
        UFS от других известных мне систем является выделение атрибутов файла в 
        отдельном объекте файловой системе - inode; это позволяет иметь доступ к 
        файлу (к набору данных, хранящихся в файле) более чем по одному имени 
        (так называемый жесткий линк; см.ниже), а заодно повысить эффективность 
        функционирования системы. </FONT></P>
        <P><FONT face="Arial, Helvetica, sans-serif" size=2>Классическая UFS 
        Отводит на файл 16 байт - 14-буквенное имя файла и двухбайтный номер 
        inode; современые UFS позволяют создавать длинные имена (до 255 
        символов), а имена файлов хранят не подряд, а более разумно - в двоичном 
        дереве или hash-таблице, а номер inode может быть любым - четырехбайтным 
        или восьмибайтным. </FONT></P>
        <P><FONT face="Arial, Helvetica, sans-serif" size=2>Сам блок inode 
        содержит: </FONT></P>
        <UL>
          <LI><FONT face="Arial, Helvetica, sans-serif" size=2>количество ссылок 
          на файл - каждое имя, ссылающееся на файл, а также открытие файла 
          увеличивают этот счетчик на единицу; файл стирается с высвобождением 
          занятого места как только счетчик становится равным нулю (т.е. можно 
          стереть открытый файл, а реально он сотрется когда его закроют); 
          </FONT>
          <LI><FONT face="Arial, Helvetica, sans-serif" size=2>размер файла; 
          </FONT>
          <LI><FONT face="Arial, Helvetica, sans-serif" size=2>дату и время 
          создания, последнего изменения и последего чтения файла; </FONT>
          <LI><FONT face="Arial, Helvetica, sans-serif" size=2>тип файла - в 
          Unix это бывает: </FONT>
          <UL>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>обычный файл; 
            </FONT>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>директория; 
            </FONT>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>файл блочного 
            устройства; </FONT>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>файл 
            символьного (последовательного) устройства; </FONT>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>поименованный 
            пайп (название происходит от символа "<TT>|</TT>", называемого 
            "pipe" - см.его значение в shell); </FONT>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>символьный линк 
            (алиас); </FONT>
            <DT><FONT face="Arial, Helvetica, sans-serif" size=2>обычный файл и 
            директория встречаются во всех файловых системах; файлы устройств 
            являются интерфейсами к драйверам этих устройств; 
          </FONT></DT></LI></UL>
          <LI><FONT face="Arial, Helvetica, sans-serif" size=2>UID 
          (идентификатор хозяина файла) и GID (идентификатор группы); </FONT>
          <LI><FONT face="Arial, Helvetica, sans-serif" size=2>атрибуты доступа: 
          </FONT>
          <UL>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>Unix использует 
            атрибуты 'Read', 'Write' и 'eXecute' для хозяина файла (owner), для 
            одногрупника (group) и для остальных (other) - итого 9 бит; для 
            директории эти атрибуты означают соответственно права на чтение 
            списка файлов, на создание/удаление файлов и на обращение к файлам 
            внутри директории; </FONT>
            <DD><FONT face="Arial, Helvetica, sans-serif" size=2>важной 
            особенностью является то, что права доступа для хозяина определяются 
            атрибутами для него, права для одногрупника и остальных для хозяина 
            игнорируются; аналогично для одногркпника не играют никакой роли 
            права для остальных; </FONT></DD>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>кроме них есть 
            атрибуты SetUID и SetGID - для запускаемого файла (не 
            интерпретируемого) эти атрибуты определяют запуск процесса под 
            правами не запустившего их пользователя, а хозяина и/или группы 
            файла соотвнтственно; </FONT>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>и еще есть один 
            атрибут - для директории он запрещает стирание файлов, не 
            принадлежащих стирающему; </FONT></LI></UL>
          <LI><FONT face="Arial, Helvetica, sans-serif" size=2>расширенный ACL 
          (Access Control List, Список Управления Доступом) или ссылку на ACL, 
          если файловая система поддерживает ACL; </FONT>
          <LI><FONT face="Arial, Helvetica, sans-serif" size=2>несколько (в 
          классической UFS - 13) ссылок на кластеры файловой системы 
          <SMALL>(раскладка приведена для классической UFS)</SMALL>: </FONT>
          <UL>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>первые 10 
            указывают на первые 10 кластеров файла; </FONT>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>11-й указывает 
            на кластер, содержащий адреса следующих 128-ми кластеров файла (в 
            классической UFS размер кластера - полкилобайта, а адрес кластера - 
            четыре байта); </FONT>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>12-й указывает 
            на кластер, содержащий адреса 128-ми кластеров, в свою очередь 
            содержащих адреса следующих 16`384-рех кластеров файла; </FONT>
            <LI><FONT face="Arial, Helvetica, sans-serif" size=2>последний 
            указывает на кластер, ... вобщем, здесь используется еще на один 
            уровень больше, что позволяет адресовать еще 2`097`152 кластера 
            файла; </FONT>
            <DD><FONT face="Arial, Helvetica, sans-serif" size=2>итого 
            получается 2`113`674 кластера по полкилобайта - чуть более гигабайта 
            в файловой системе, способной работать с томами до двух терабайт 
            (2<SUP>^32</SUP> кластеров по полкилобайта). </FONT>
            <DD><FONT face="Arial, Helvetica, sans-serif" size=2>В современных 
            UFS многое изменено: можно задавать произвольный размер кластера и 
            использовать 64-битные указатели, так что ограничени классической 
            UFS давно преодолены. Основное преимущество такой адресации в том, 
            что маленькие файлы, к которым часто обращаются, достижимы прямо из 
            inode, и так же быстро происходит обращение к началу большого файла; 
            обращение в середину и конец большого файла происходят медленнее, 
            чем в начало, но я не представляю, как можно обеспечить бОльшую 
            скорость, не налагая жесткого требования заведомой 
            дефрагментированности файла или хотя бы таблицы размещения его 
            кластеров. </FONT></DD></LI></UL></LI></UL>
        <P>&nbsp;</P>
        <P><FONT face="Arial, Helvetica, sans-serif" size=2>Во многих UFS если 
        после создания файла в кластер ничего не писалось (например, после 
        открытия файла переместили указатель далеко-далеко и что-то туда 
        записали), то под этот кластер не отводится место, а ссылке, которая 
        должна на него указывать, присваивается <TT>0</TT> (это особенно 
        актуально в свете использования hash-таблиц, которые обычно имеют внутри 
        себя пустое пространство). То же самое делается если кластер оказывается 
        заполнен нулями (незаполненное место считается залитым нулями, хотя 
        полагаться на это программисту я бы не советовал). По-моему, неплохой 
        способ экономии места. </FONT></P>
        <P><FONT face="Arial, Helvetica, sans-serif" size=2>Часть систем UFS 
        реализованы как отказоустойчивые с журналированием, а часть по традиции 
        обходится без этого - считается, что если на машине хранятся 
        действительно важные данные, то эту машину можно обеспечить 
        бесперебойным питанием и не подпускать к ней ламеров. </FONT></P>
        <H5 align=center><B><FONT face="Arial, Helvetica, sans-serif" 
        size=2>NetWare</FONT></B></H5>
        <P><FONT face="Arial, Helvetica, sans-serif" size=2>Сведений об 
        устройстве файловой системы NetWare у мня нет - знаю лишь, что она 
        какая-то своя, естественно, более эффективная, чем FAT, и имеет более 
        сложные ACL, чем классический Unix с его 'rwx' для owner, group и other. 
        </FONT></P>
        <H5 align=center><B><FONT face="Arial, Helvetica, sans-serif" size=2><A 
        name=Заключение>Заключение</A></FONT></B></H5>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Развитие файловых систем персональных компьютеров определялось 
        двумя факторами&nbsp;- появлением новых стандартов на носители 
        информации и ростом требований к характеристикам файловой системы со 
        стороны прикладных программ (разграничение уровней доступа, поддержка 
        длинных имен файлов в формате UNICODE). Первоначально, для файловых 
        систем первостепенное значение имело увеличение скорости доступа к 
        данным и минимизация объема хранимой служебной информации. Впоследствии 
        с появлением более быстрых жестких дисков и увеличением их объемов, на 
        первый план вышло требование надежности хранения информации, которое 
        привело к необходимости избыточного хранения данных.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Эволюция файловой системы была напрямую связана с развитием 
        технологий реляционных баз данных. Файловая система использовала 
        последние достижения, разработанные для применения в СУБД: механизмы 
        транзакций, защиты данных, систему самовосстановления в результате 
        сбоя.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Развитие файловых систем привело к изменению самого понятия 
        "файл" от первоначального толкования как упорядоченная 
        последовательность логических записей, до понятия файла, как объекта, 
        имеющего набор характеризующих его атрибутов (включая имя файла, его 
        псевдоним, время создания и собственно данные), реализованного в <A 
        href="http://www.remont-pc.ru/ntfs.htm">Структура NTFS</A>.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>За 
        свою 20 летнюю историю файловая система прошла путь от простой системы, 
        взявшей на себя функции управления файлами, до системы, представляющей 
        собой полноценную СУБД, обладающую встроенным механизмом 
        протоколирования и восстановления данных.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" size=2>В 
        отличие от попыток ввести стандарт на протокол, описывающий правила 
        доступа к удаленным файловым системам (CIFS, NFS), не стоит ожидать 
        появления подобного стандарта, описывающего файловые системы для жестких 
        дисков. Это можно объяснить тем, что файловая система жестких дисков все 
        еще продолжает оставаться одной из главных частей операционной системы, 
        влияющей на ее производительность. Поэтому каждый производитель 
        операционных систем будет стремиться использовать файловую систему, 
        "родную" для его ОС.</FONT></P>
        <P align=justify><FONT face="Arial, Helvetica, sans-serif" 
        size=2>Дальнейшая эволюция файловых систем пойдет по пути 
        совершенствования механизмов хранения данных, оптимизации хранения 
        мультимедийных данных, использования новых технологий, применяемых в 
        базах данных (возможность полнотекстового поиска, сортировка файлов по 
        различным атрибутам).</FONT></P>
        <P align=justify><I><SPAN lang=ru><FONT 
        face=Arial>Автор</FONT></SPAN><FONT face=Arial>: </FONT></I><SPAN 
        lang=ru><I>Виктор Зогин</I></SPAN></P></BLOCKQUOTE>
      <TABLE id=table19 height=100 width="100%" border=1>
        <TBODY>
        <TR>
          <TD align=middle width="100%" colSpan=2 height=49>
            <P align=center><FONT color=#c0c0c0><SPAN lang=ru>Общее описание 
            файловых систем</SPAN></FONT></P></TD></TR>
        <TR>
          <TD align=middle width="49%" height=39><A 
            href="http://www.remont-pc.ru/fat32.htm"><SPAN lang=ru>Подробное 
            описание файловой системы </SPAN>FAT32 (<SPAN lang=ru>используется в 
            ОС </SPAN>Windows 95, 98, Me)</A></TD>
          <TD align=middle width="49%" height=39><A 
            href="http://www.remont-pc.ru/ntfs.htm"><SPAN lang=ru>Подробное 
            описание файловой системы </SPAN>NTFS (<SPAN lang=ru>используется в 
            ОС </SPAN>Windows 2000, XP)</A></TD></TR></TBODY></TABLE><!--msnavigation--></TD></TR><!--msnavigation--></TBODY></TABLE><!--msnavigation-->
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD>
      <HR>

      <H5><FONT size=2><NOBR>[&nbsp;<A href="http://www.remont-pc.ru/index.htm" 
      target="">Домой</A>&nbsp;]</NOBR> <NOBR>[&nbsp;<A 
      href="http://www.remont-pc.ru/fat32.htm" 
      target="">Структура&nbsp;FAT32</A>&nbsp;]</NOBR> <NOBR>[&nbsp;<A 
      href="http://www.remont-pc.ru/ntfs.htm" 
      target="">Структура&nbsp;NTFS</A>&nbsp;]</NOBR></FONT></H5>
      <H5 align=center><SMALL><SMALL>Copyright © <SPAN 
      lang=en-us>1999-</SPAN>2004 <SPAN lang=en-us>Ambulance PC</SPAN> © 
      2003<SPAN lang=en-us>-</SPAN>2004 <SPAN lang=en-us>Remont-PC.ru</SPAN>. 
      Все права защищены.</SMALL></SMALL><FONT size=1> (<SPAN lang=en-us>Автор: 
      </SPAN>Елисеев Сергей Александрович). Дата последнего обновления: 01 июня 
      2004 г.</FONT></H5>
      <P><A href="http://top.mail.ru/jump?from=643695" target=_top><IMG 
      alt=Рейтинг@Mail.ru src="Файловые системы_files/counter.gif" border=0></A> 
      <A href="http://top100.rambler.ru/top100/"><IMG height=31 
      alt="Rambler's Top100" 
      src="Файловые системы_files/banner-88x31-rambler-black2.gif" width=88 
      border=0></A> <A 
      href="http://www.yandex.ru/cy?base=0&amp;host=www.remont-pc.ru"><IMG 
      alt="Яндекс цитирования" src="Файловые системы_files/cycounter.gif" 
      border=0></A> <A href="http://www.one.ru/" target=_top><IMG 
      alt="be number one" src="" border=0></A> 
  </P></TD></TR><!--msnavigation--></TBODY></TABLE></BODY></HTML>
